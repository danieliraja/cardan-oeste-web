---
import astroConfig from "../../astro.config.mjs";
---

<header class="container mx-auto z-30">
  <nav
    class="container flex items-center justify-between py-6 lg:px-0"
    aria-label="Global"
  >
    <a href={astroConfig.site} class="-m-1.5 p-1.5">
      <span class="sr-only">Cardan Oeste</span>
      <img
        class="absolute h-28 w-auto top-2 z-40"
        src={astroConfig.site + "/images/logo-ilustrativo-removebg-preview.png"}
        alt="Logo Cardan Oeste"
      />
    </a>

    <!-- Botão do menu mobile -->
    <div class="flex lg:hidden">
      <button
        type="button"
        class="inline-flex items-center justify-center rounded-md p-3 text-gray-900 hover:cursor-pointer"
        id="mobile-menu-button"
        aria-expanded="false"
        aria-controls="mobile-menu"
      >
        <span class="sr-only">Abrir menu</span>
        <i class="bi bi-list text-4xl"></i>
      </button>
    </div>

    <!-- Menu desktop -->
    <div class="hidden lg:flex lg:gap-x-12">
      <a
        href={astroConfig.site}
        class="text-md font-semibold text-uppercase leading-6 text-blue-800 hover:text-blue-950"
        >Página inicial</a
      >
      <a
        href={astroConfig.site + "/sobre"}
        class="text-md font-semibold leading-6 text-blue-800 hover:text-blue-950"
        >A empresa</a
      >
      <a
        href={astroConfig.site + "/produtos"}
        class="text-md font-semibold leading-6 text-blue-800 hover:text-blue-950"
        >Produtos</a
      >
      <a
        href={astroConfig.site + "/contato"}
        class="text-md font-semibold leading-6 text-blue-800 hover:text-blue-950"
        >Fale conosco</a
      >
    </div>
  </nav>

  <!-- Mobile menu -->
  <div
    id="mobile-menu"
    class="fixed inset-0 top-20 z-50 hidden bg-orange-600 flex flex-col items-center justify-center space-y-4 transition-all transform -translate-y-full opacity-0"
  >
    <a
      href={astroConfig.site}
      class="block rounded-lg px-5 py-3 text-base font-semibold text-white hover:bg-blue-900 transition"
      >Página inicial</a
    >
    <a
      href={astroConfig.site + "/sobre"}
      class="block rounded-lg px-5 py-3 text-base font-semibold text-white hover:bg-blue-900 transition"
      >A empresa</a
    >
    <a
      href={astroConfig.site + "/produtos"}
      class="block rounded-lg px-5 py-3 text-base font-semibold text-white hover:bg-blue-900 transition"
      >Produtos</a
    >
    <a
      href={astroConfig.site + "/contato"}
      class="block rounded-lg px-5 py-3 text-base font-semibold text-white hover:bg-blue-900 transition"
      >Contato</a
    >
  </div>
</header>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const mobileMenuButton = document.getElementById("mobile-menu-button");
    const mobileMenu = document.getElementById("mobile-menu");

    mobileMenuButton?.addEventListener("click", () => {
      const isOpen = mobileMenu?.classList.contains("opacity-100");

      if (isOpen) {
        mobileMenu?.classList.remove("opacity-100", "translate-y-0");
        mobileMenu?.classList.add("opacity-0", "-translate-y-full", "hidden");
      } else {
        mobileMenu?.classList.remove(
          "opacity-0",
          "-translate-y-full",
          "hidden"
        );
        mobileMenu?.classList.add("opacity-100", "translate-y-0");
      }
    });
  });
</script>
